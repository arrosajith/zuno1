/* ---------- Root scales ---------- */
:root {
  --ring:#050505;
  --ink:#111827;
  --muted:#6b7280;
  --brand:#f97316;
  --tile-min: 200px;
  --tile-md: 260px;
  --tile-xl: 340px;
  --tile-2xl: 420px;
  --tile-uw: 240px;
}

/* ---------- Page shell ---------- */
.catpage {
  max-width: min(1400px, 100%);
  margin: 0 auto;
  padding: clamp(16px, 2vw, 28px) clamp(12px, 2vw, 20px);
  box-sizing: border-box;
}

/* ---------- Tabs + search bar ---------- */
.catbar {
  display:flex; flex-wrap:wrap; gap:10px;
  align-items:center; justify-content:space-between;
  margin-bottom: clamp(10px, 1.5vw, 18px);
}

@media (max-width: 640px) {
  .catbar { gap:12px; }
  .tabs { order:1; width:100%; }
  .search { order:2; width:100%; min-width:0; }
}

/* Tabs row */
.tabs {
  display:flex; gap:8px; align-items:center;
  overflow-x:auto; overscroll-behavior-x: contain;
  scrollbar-width: thin; padding-bottom:2px;
}
.tab {
  height:38px; padding:0 14px; white-space:nowrap;
  border:1px solid var(--ring); background:#000;
  border-radius:999px; cursor:pointer; flex:0 0 auto;
  font-size:14px;
}
.tab.is-active { background:var(--ink); color:#fff; border-color:var(--ink); }

/* Search */
.search {
  height:38px; padding:0 12px; border:1px solid var(--ring);
  border-radius:8px; min-width:260px; max-width:420px;
}
@media (min-width:1024px){ .search{ min-width:320px; } }

/* ---------- Responsive grid ---------- */
.grid-tiles {
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fill, minmax(var(--tile-min), 1fr));
}
@media (min-width:768px){
  .grid-tiles {
    gap:14px;
    grid-template-columns: repeat(auto-fill, minmax(var(--tile-md), 1fr));
  }
}
@media (min-width:1024px){
  .grid-tiles {
    gap:16px;
    grid-template-columns: repeat(auto-fill, minmax(var(--tile-xl), 1fr));
  }
}
@media (min-width:1440px){
  .grid-tiles {
    grid-template-columns: repeat(auto-fill, minmax(var(--tile-2xl), 1fr));
  }
}
@media (min-width:1800px){
  .grid-tiles {
    grid-template-columns: repeat(auto-fill, minmax(var(--tile-uw), 1fr));
  }
}

/* ---------- Tile card ---------- */
.tile {
  background:#fff; border:1px solid var(--ring);
  border-radius:12px; overflow:hidden; cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.tile:hover {
  transform:translateY(-2px);
  border-color:#000;
  box-shadow:0 10px 24px rgba(0,0,0,.06);
}

/* ---------- Tile image (25% smaller, centered) ---------- */
.tile__img {
  position:relative;
  width:100%;
  aspect-ratio:1/1;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#fff;
}
.tile__img img {
  width:70%;              /* shrink image to 25% of tile */
  height:auto;
  object-fit:contain;
  display:block;
}
.tile__img .off {
  position:absolute; top:10px; left:10px;
  background:var(--brand); color:#fff;
  font-size:12px; padding:2px 8px; border-radius:8px;
}
/* ---------- Tile body ---------- */
.tile__body { padding: clamp(8px, 1.2vw, 12px); }
.title {
  font-size:clamp(13px,1.1vw,15px);
  line-height:1.25; min-height:40px;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  overflow:hidden; color:#000;
}
.price {
  margin-top:6px; display:flex; gap:8px; align-items:baseline;
}
.price .now { font-weight:700; font-size:clamp(14px,1.2vw,16px); color:#000; }
.price .old { color:#000; text-decoration:line-through; font-size:12px; }
.rating { margin-top:4px; color:#f59e0b; font-size:12px; }
.rating small { color:#6b7280; }

/* Touch targets */
@media (pointer:coarse){
  .tab{ height:42px; padding:0 16px; }
  .search{ height:42px; }
  .btn{ height:44px; }
}

/* ---------- Quick view ---------- */
.qv-backdrop {
  position:fixed; inset:0; background:rgba(0,0,0,.4);
  display:flex; align-items:center; justify-content:center;
  z-index:50; padding:12px;
}
.qv-modal {
  width:min(1000px,96vw); max-height:min(92vh,900px);
  background:#fff; border-radius:14px;
  box-shadow:0 20px 60px rgba(0,0,0,.18);
  padding:clamp(12px,2vw,16px); overflow:auto;
}
.qv-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.qv-close { background:none; border:none; font-size:20px; cursor:pointer; }
.qv-grid { display:grid; gap:clamp(14px,2vw,24px); grid-template-columns:1fr; }
@media (min-width:900px){ .qv-grid{ grid-template-columns:1fr 1fr; } }

.qv-hero {
  border:1px solid var(--ring); border-radius:10px;
  overflow:hidden; width:70%;
  height:clamp(260px,40vh,420px);
}
.qv-hero img { width:100%; height:100%; object-fit:cover; display:block; }

.qv-thumbs { display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; }
.qv-thumb { width:64px; height:64px; border:1px solid var(--ring);
  border-radius:8px; overflow:hidden; background:#fff; cursor:pointer;
}
.qv-thumb--active { outline:2px solid var(--brand); outline-offset:1px; }
.qv-thumb img { width:100%; height:100%; object-fit:cover; }

.qv-title { font-size:clamp(18px,1.6vw,22px); font-weight:600; color:#000; }
.qv-price {
  display:flex; align-items:center; gap:10px; margin-top:6px; flex-wrap:wrap;
}
.qv-price .big { font-size:clamp(18px,1.8vw,24px); font-weight:700; color:#000; }
.qv-price .old { color:#9ca3af; text-decoration:line-through; }
.qv-pill { font-size:11px; background:#fff2e8; color:#c2410c;
  padding:2px 8px; border-radius:999px;
}

.option-label { font-size:12px; color:#000; margin:14px 0 6px; }
.qty { display:inline-flex; align-items:center;
  border:1px solid var(--ring); border-radius:10px; overflow:hidden;
}
.qty button { width:36px; height:32px; background:#fff; border:none; cursor:pointer; }
.qty .val { padding:0 14px; }
.stock { color:#000; font-size:13px; }

.btn { height:40px; padding:0 16px; border-radius:10px;
  border:1px solid var(--ring); background:#fff; cursor:pointer; color:#000;
}
.btn-primary { background:var(--brand); color:#fff; border-color:var(--brand); }
.btn[disabled]{ opacity:.6; cursor:not-allowed; }

/* ---------- Mobile full-screen quick view ---------- */
@media (max-width:480px){
  .qv-backdrop { padding:0; }
  .qv-modal {
    width:100vw; height:100vh; max-height:none;
    border-radius:0; overflow:auto;
  }
}

/* ---------- Nice-to-haves ---------- */
@media (prefers-reduced-motion:reduce){
  *{ transition:none !important; animation:none !important; }
}

/* ---------- Dark mode ---------- */
@media (prefers-color-scheme:dark){
  .tile, .qv-modal{ background:#ffffff; border-color:#fdfdfd; color:#000000; }
  .tab{ background:#ffffff; color:#000000; border-color:#000000; }
  .tab.is-active{ background:#000000; color:#ffffff; border-color:#000000; }
  .search, .qty, .qv-hero{ border-color:#000000; background:#ffffff; color:#000000; }
  .qv-pill{ background:#ffe5d0; color:#000000; }
}
